import socket
import threading
import struct
import sys

HOST = "192.168.56.102"
PORT = 2997
s = socket.socket()
s.connect((HOST,PORT))

def sendsocket(data):
    unpacked = "%d" % (data)
    print ("Sending unpacked: ")
    print (unpacked)
    s.send(unpacked)
    s.send("\n\r".encode("UTF-8"))

def recv():
    sum = 0
    for i in range(4):
        data = s.recv(4)
        if not data: sys.exit(0)
        sum += int(struct.unpack("<I", data)[0])
    print ("Total: " + str(sum))
    #sendsocket(sum)
    print ("Sended...")
    

threading.Thread(target=recv).start()
